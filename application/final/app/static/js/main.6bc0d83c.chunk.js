(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{159:function(e,t,a){},250:function(e,t,a){},256:function(e,t,a){},258:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(33),i=a.n(r),c=(a(159),a(27)),o=a(28),l=a(30),u=a(29),j=a(54),d=a(260),h=a(270),b=a(40),p=a(25),O=a(273),g=a(274),m=a(275),x=a(276),f=a(277),v=a(77),y=a.n(v),w=a(139),C="exr_token",I={registered:!1,regFailure:!1,regErrType:"",username:""};var E={signedIn:!1,username:"",authFailure:!1};function S(e,t){return function(a){var n={username:e,password:t};y.a.post("/auth",n).then((function(e){var t=e.data.token;localStorage.setItem(C,t);var n=Object(w.a)(t);a({type:"AUTHENTICATED",payload:{signedIn:!0,username:n.username,authFailure:!1}})}),(function(e){a({type:"AUTHENTICATION_FAILURE",payload:{signedIn:!1,username:"",authFailure:!0}})}))}}function T(){return function(e){y.a.post("/api/signout").then((function(){localStorage.removeItem(C),e({type:"LOGGED_OUT"}),e({type:"SET_DEFAULT"})}),(function(e){return console.error("Failed to log out successfully: ".concat(e))}))}}var k=a(265),F=a(75),N=a(47),A=a(6),D=d.a.Header,U=d.a.Content,L=d.a.Footer,R=k.a.Meta,P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)(D,{className:"spaces",children:Object(A.jsx)("br",{})}),Object(A.jsx)(U,{className:"homepage",children:Object(A.jsxs)("div",{className:"homeTile",children:[Object(A.jsx)("p",{className:"prjTitle",children:" exploring new york taxi and weather data"}),Object(A.jsx)("p",{className:"teams",children:"Gryffindor: Gabriel Roth, Mingshuo Yu, Yiyi Zhang"})]})}),Object(A.jsx)(L,{children:Object(A.jsx)("div",{className:"site-card-wrapper",children:Object(A.jsxs)(F.a,{gutter:16,children:[Object(A.jsx)(N.a,{span:8,children:Object(A.jsxs)(k.a,{title:"OpenAQ",hoverable:!0,bordered:!1,onClick:function(e){return window.location.href="https://openaq.org/#/"},children:[Object(A.jsx)("img",{src:"https://openaq.org/assets/graphics/layout/oaq-logo-col-pos.svg",style:{width:100}}),Object(A.jsx)(R,{description:"https://openaq.org/#/"})]})}),Object(A.jsx)(N.a,{span:8,children:Object(A.jsxs)(k.a,{title:"NYC Taxi&Limousine Commission",hoverable:!0,bordered:!1,onClick:function(e){return window.location.href="https://www1.nyc.gov/site/tlc/index.page"},children:[Object(A.jsx)("img",{src:"https://www1.nyc.gov/assets/tlc/images/content/pages/home/nyc-tlc-logo.png",style:{width:135}}),Object(A.jsx)(R,{description:"https://www1.nyc.gov/site/tlc/index.page"})]})})]})})})]})}}]),a}(s.a.Component),z=a(266),M=a(268),_=a(102),H=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsx)(z.a,{className:"searchBar",size:"large",placeholder:"Search",optionLabelProp:"text",children:Object(A.jsx)(M.a,{ref:"search_term",suffix:Object(A.jsx)(_.a,{style:{color:"rgba(0,0,0,.25)"}})})})}}]),a}(n.Component),V=a(68),G=a(261),q=a(262),B=a(263),W=a(267),Y=a(264),J=a(151),K=a(271),Q=a(272),X=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={authFailed:!1,username:"",password:""},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e}return Object(o.a)(a,[{key:"handleOnSignIn",value:function(e){e.preventDefault();var t=this.state,a=t.username,n=t.password,s=a?a.trim():"",r=n?n.trim():"";0!==s.length&&this.props.login(s,r)}},{key:"handleSignOut",value:function(e){e.preventDefault(),this.props.logout()}},{key:"authFailedMessage",value:function(){return this.props.authState.authFailure?Object(A.jsx)("div",{children:Object(A.jsx)(W.a,{message:"Authentication failed!",description:"Please Enter a valid username and password.",type:"error",showIcon:!0})}):null}},{key:"authSucceededMessage",value:function(){return this.props.authState.signedIn?Object(A.jsxs)("div",{children:[Object(A.jsx)(W.a,{message:"Authentication Succeeded!",type:"success",showIcon:!0}),Object(A.jsxs)("div",{children:["Signed in as: ",this.props.authState.username]})]}):null}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,s=this.props.authState;return Object(A.jsx)("div",{children:Object(A.jsxs)(G.a,{children:[Object(A.jsx)("br",{}),Object(A.jsx)("h1",{id:"textH3",children:"Sign In"}),Object(A.jsxs)(G.a,{children:[this.authSucceededMessage(),this.authFailedMessage()]}),Object(A.jsx)(k.a,{className:"signUpCard",style:{width:500,alignItems:"center",marginTop:20},children:Object(A.jsxs)(Y.a,{children:[Object(A.jsxs)(q.a,{children:[Object(A.jsx)(B.a,{for:"username",children:"Username"}),Object(A.jsx)("br",{}),Object(A.jsx)(M.a,{prefix:Object(A.jsx)(K.a,{style:{color:"rgba(0,0,0,.25)"}}),className:"login-form",type:"username",name:"username",id:"username",placeholder:"Username",value:a,onChange:this.handleChange})]}),Object(A.jsxs)(q.a,{children:[Object(A.jsx)(B.a,{for:"username",children:"Password"}),Object(A.jsx)("br",{}),Object(A.jsx)(M.a,{prefix:Object(A.jsx)(Q.a,{style:{color:"rgba(0,0,0,.25)"}}),className:"login-form",type:"password",name:"password",id:"password",placeholder:"Password",value:n,onChange:this.handleChange})]}),Object(A.jsx)(J.a,{disabled:s.signedIn,onClick:function(t){return e.handleOnSignIn(t)},children:"Login"})," ",Object(A.jsx)(J.a,{disabled:!s.signedIn,onClick:function(t){return e.handleSignOut(t)},children:"Logout"})]})}),Object(A.jsx)("br",{})]})})}}]),a}(s.a.Component);var Z=Object(p.f)(Object(j.b)((function(e){return{authState:e.auth}}),{login:S,logout:T})(X)),$=a(81),ee=a(269),te={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},ae={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:"",email:"",confirmDirty:!1},e.handleConfirmBlur=function(t){var a=t.target.value;e.setState({confirmDirty:e.state.confirmDirty||!!a})},e.handleChange=function(t){e.setState(Object(V.a)({},t.target.name,t.target.value))},e}return Object(o.a)(a,[{key:"handleSignUp",value:function(e){e.preventDefault();var t=this.state,a=t.username,n=t.password,s=t.email,r=a?a.trim():"",i=n?n.trim():"",c=s?s.trim():"";this.props.register(r,i,c),console.log("register CHECK!!!!!"),console.log(this.state),console.log(this.props)}},{key:"regFailedMessage",value:function(){return this.props.regState.regFailure?Object(A.jsx)(ee.a,{status:"error",title:"Submission Failed",subTitle:this.props.regState.regErrType}):null}},{key:"regSucceededMessage",value:function(){return this.props.regState.registered?Object(A.jsx)(ee.a,{status:"success",title:"Successfully Register Our Website!"}):null}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,s=t.email;return Object(A.jsx)("div",{children:Object(A.jsxs)(G.a,{children:[Object(A.jsx)("br",{}),Object(A.jsx)("h1",{id:"textH3",children:"Register"}),Object(A.jsxs)(G.a,{children:[this.regSucceededMessage(),this.regFailedMessage()]}),Object(A.jsx)(k.a,{className:"signUpCard",style:{width:500,alignItems:"center",marginTop:20},children:Object(A.jsxs)(Y.a,Object($.a)(Object($.a)({className:"register-form"},te),{},{children:[Object(A.jsx)("br",{}),Object(A.jsx)(Y.a.Item,{name:"username",label:"Username",rules:[{pattern:/^[a-z0-9_]+$/,message:"The input is not valid username!"},{required:!0,message:"Please input a username!"}],children:Object(A.jsx)(M.a,{type:"username",name:"username",id:"username",placeholder:"Username",value:a,onChange:this.handleChange,prefix:Object(A.jsx)(K.a,{style:{color:"rgba(0,0,0,.25)"}})})}),Object(A.jsx)(Y.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"must be at least 6 characters"}],hasFeedback:!0,children:Object(A.jsx)(M.a.Password,{name:"password",id:"password",placeholder:"Password",value:n,onChange:this.handleChange,prefix:Object(A.jsx)(Q.a,{style:{color:"rgba(0,0,0,.25)"}})})}),Object(A.jsx)(Y.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(A.jsx)(M.a.Password,{placeholder:"Confirm Password",onBlur:this.handleConfirmBlur,prefix:Object(A.jsx)(Q.a,{style:{color:"rgba(0,0,0,.25)"}})})}),Object(A.jsx)(Y.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(A.jsx)(M.a,{type:"Email",name:"email",id:"Email",placeholder:"Email",value:s,onChange:this.handleChange,prefix:Object(A.jsx)(K.a,{style:{color:"rgba(0,0,0,.25)"}})})}),Object(A.jsx)("br",{}),Object(A.jsxs)(Y.a.Item,Object($.a)(Object($.a)({},ae),{},{children:[Object(A.jsx)(J.a,{onClick:function(t){return e.handleSignUp(t)},children:" Register"}),Object(A.jsx)(J.a,{disabled:!this.props.regState.registered,onClick:function(t){return e.props.history.push("/taxiAndWeather")},children:"Finish"})]}))]}))})]})})}}]),a}(s.a.Component);var se=Object(p.f)(Object(j.b)((function(e){return console.log(e),{regState:e.register,authState:e.auth}}),{register:function(e,t,a){return function(n){var s={email:a,lastPasswordResetDate:"",password:t,username:e};console.log("CHECK DATA!!!!"),console.log(s),y.a.post("/api/register",s).then((function(a){n({type:"REGISTERED",data:{registered:!0,regFailure:!1,username:e}}),n(S(e,t))}),(function(e){n({type:"REGISTER_FAILURE",data:{registered:!1,regFailure:!0,regErrType:"User Exist"}})}))}}})(ne)),re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.initViz()}},{key:"initViz",value:function(){var e=this.vizContainer;new window.tableau.Viz(e,"https://public.tableau.com/views/AirQualityYellowTaxi/TaxiRidesandAveragePM2_5")}},{key:"render",value:function(){var e=this;return Object(A.jsx)("div",{ref:function(t){e.vizContainer=t}})}}]),a}(n.Component),ie=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.initViz()}},{key:"initViz",value:function(){var e=this.vizContainer;new window.tableau.Viz(e,"https://public.tableau.com/shared/9BRTR2XTF?:display_count=y&:origin=viz_share_link")}},{key:"render",value:function(){var e=this;return Object(A.jsx)("div",{className:"taxiData",ref:function(t){e.vizContainer=t}})}}]),a}(n.Component),ce=(a(250),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.initViz()}},{key:"initViz",value:function(){var e=this.vizContainer;new window.tableau.Viz(e,"https://public.tableau.com/views/FHVYELLOW2020JAN/Dashboard1")}},{key:"render",value:function(){var e=this;return Object(A.jsx)("div",{className:"taxiData",ref:function(t){e.vizContainer=t}})}}]),a}(n.Component)),oe=d.a.Header,le=d.a.Content,ue=d.a.Sider,je=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggle=function(){n.setState({collapsed:!n.state.collapsed})},n.state={subscriptionActive:!1,collapsed:!1},n}return Object(o.a)(a,[{key:"authLink",value:function(e,t){var a=this;return e?Object(A.jsx)("span",{children:Object(A.jsx)("a",{className:"signIn",href:"#",onClick:function(){return a.loggingOut()},children:"Sign Out"})}):Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{children:Object(A.jsx)(b.b,{className:"signIn",to:"/signin",children:"Log In"})}),Object(A.jsx)("span",{children:Object(A.jsx)(b.b,{className:"signIn",to:"/signup",children:"Sign Up"})})]})}},{key:"loggingOut",value:function(){this.props.logout(),this.props.history.push("/")}},{key:"forLoginUser",value:function(e){if(e)return Object(A.jsx)("div",{children:Object(A.jsxs)(h.a,{mode:"inline",defaultSelectedKeys:["1"],children:[Object(A.jsxs)(h.a.Item,{children:[Object(A.jsx)(O.a,{}),Object(A.jsx)("span",{children:"Home"}),Object(A.jsx)(b.b,{to:"/"})]},"1"),Object(A.jsxs)(h.a.Item,{children:[Object(A.jsx)(g.a,{}),Object(A.jsx)("span",{children:"Taxi And Weather Data"}),Object(A.jsx)(b.b,{to:"/taxiAndWeather"})]},"2"),Object(A.jsxs)(h.a.Item,{children:[Object(A.jsx)(m.a,{}),Object(A.jsx)("span",{children:"Taxi Data Only"}),Object(A.jsx)(b.b,{to:"/taxi"})]},"3"),Object(A.jsxs)(h.a.Item,{children:[Object(A.jsx)(x.a,{}),Object(A.jsx)("span",{children:"For-Hired Vehicle Data"}),Object(A.jsx)(b.b,{to:"/forhire"})]},"4")]})})}},{key:"render",value:function(){var e=this.props.auth,t=e.signedIn,a=e.username;return Object(A.jsxs)(d.a,{children:[Object(A.jsxs)(ue,{theme:"light",trigger:null,collapsible:!0,collapsed:this.state.collapsed,children:[Object(A.jsx)(f.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle}),this.forLoginUser(t)]}),Object(A.jsxs)(d.a,{children:[Object(A.jsxs)(oe,{className:"topNavBar",children:[Object(A.jsx)("div",{children:Object(A.jsx)("span",{children:Object(A.jsx)(b.b,{className:"home",to:"/",children:" Home "})})}),Object(A.jsx)(H,{}),Object(A.jsx)("div",{className:"grow"}),Object(A.jsx)("div",{className:"signIn",children:this.authLink(t,a)})]}),Object(A.jsx)("div",{className:"fullscreen",children:Object(A.jsx)(le,{children:Object(A.jsxs)(p.c,{children:[Object(A.jsx)(p.a,{exact:!0,path:"/",component:P}),Object(A.jsx)(p.a,{exact:!0,path:"/signin",component:Z}),Object(A.jsx)(p.a,{exact:!0,path:"/signup",component:se}),Object(A.jsx)(p.a,{exact:!0,path:"/taxiAndWeather",component:re}),Object(A.jsx)(p.a,{exact:!0,path:"/taxi",component:ie}),Object(A.jsx)(p.a,{exact:!0,path:"/forhire",component:ce})]})})})]})]})}}]),a}(s.a.Component),de={logout:T},he=Object(p.f)(Object(j.b)((function(e){return{auth:e.auth}}),de)(je)),be=a(74),pe=a(98),Oe=a(147),ge=a(148),me=a.n(ge),xe=Object(be.b)({router:pe.routerReducer,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATED":return{signedIn:!0,username:t.payload.username,authFailure:!1};case"AUTHENTICATION_FAILURE":return{signedIn:!1,username:"",authFailure:!0};case"LOGGED_OUT":return E;default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTERED":return{registered:!0,regFailure:!1,username:t.data.username};case"REGISTER_FAILURE":return{registered:!1,regFailure:!0,regErrType:"User Exist"};case"SET_DEFAULT":return I;default:return e}}}),fe=me()(),ve=[Oe.a,Object(pe.routerMiddleware)(fe)],ye=be.c.apply(void 0,[be.a.apply(void 0,ve)].concat([])),we=Object(be.d)(xe,{},ye),Ce=(a(256),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(A.jsx)(j.a,{store:we,children:Object(A.jsx)(b.a,{children:Object(A.jsx)("div",{className:"App",children:Object(A.jsx)(he,{})})})})}}]),a}(n.Component)),Ie=(a(257),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,278)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))});i.a.render(Object(A.jsx)(Ce,{}),document.getElementById("root")),Ie()}},[[258,1,2]]]);
//# sourceMappingURL=main.6bc0d83c.chunk.js.map